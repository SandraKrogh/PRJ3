

<!--- 
<form action="http://localhost:8080" method="post">
    <label>Enter a message:</label>
    <input type="text" name="value" placeholder="HTTP POST test!">
    <button type="submit">Send to server</button>
</form>
--->


<html>  
<head>  
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/js/tabulator.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/css/tabulator.min.css"></link>

  <script type = "text/javascript">

    function setTable(data){
    $("#table").tabulator({
        layout: "fitDataFill",
        height: "311px",
        columns: [
        {
            title: "Id",
            field: "id"
        },
        {
            title: "Name",
            field: "name"
        },
        {
            title: "Players",
            field: "players"
        }
        ],
    });
    $("#table").tabulator("setData", data);
    }

    // All data
    function getData() {
    axios.get('http://localhost:8080')
            .then(response => {
        setTable(response.data);
            }).catch(error => alert('Try again'));
    }

    //Get latest weatherdata (3 sidste)
    function getDataThree() {
    axios.get('http://localhost:8080/three')
            .then(response => {
        setTable(response.data);
            }).catch(error => alert('Try again'));
    }

    //Get data by date
    function getDataByDate(date) {
    axios.get('http://localhost:8080/wsbydate/'+date)
            .then(response => {
        setTable(response.data);
            }).catch(error => alert('Try again'));
    }

    function sendData() {
    axios.post('http://localhost:8080',
           {
               "id": document.getElementById("id").value,
               "name": document.getElementById("name").value,
               "players": document.getElementById("players").value,
           }
           )
            .then(response => {
            }).catch(error => alert('Try again'));
    }          
  </script>  
</head>  
<body>  
  <p>Get random cat fact</p>  
  <input type = "button" onclick = "getData()" value = "Hent data">
  <p>Send data</p>
  <p>Id<input id="id" type="text"></p>
  <p>Name<input id="name" type="text"><p/>
  <p>Players<input id="players" type="text"><p/>
  <input type = "button" onclick = "sendData()" value = "Send Data">
  <div id="table">
</body>  
</html>